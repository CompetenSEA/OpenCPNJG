# CM93 MVT Schema

Vector tiles expose two planes:

- **Core** – areas, lines, points, soundings and lights served from `/tiles/cm93-core/{z}/{x}/{y}.pbf`.
- **Label** – text features served from `/tiles/cm93-label/{z}/{x}/{y}.pbf`.

All tiles use `EXTENT=4096` and honour the declarative `SCAMIN` rules in `chart-tiler/config/portrayal/scamin.yml`.
The dictionary at `/tiles/cm93/dict.json` maps integer IDs to S‑57 object class names for style lookup.

## Lights

- Sector geometries generated by `build_light_sectors` are included in the
  **core** plane for `z ≥ 12`. Ranges are simplified with a coarser tolerance
  at low zooms to reduce tile size.
- The **label** plane carries CRC32‑coded light character strings produced by
  `build_light_character`. Clients resolve these codes using the shared
  dictionary and display colours, periods and ranges accordingly.

Example light feature (`cm93-core`):

```json
{
  "type": "Feature",
  "geometry": { "type": "Polygon", ... },
  "properties": { "OBJL": "LIGHTS" }
}
```

Example label (`cm93-label`):

```json
{
  "type": "Feature",
  "geometry": { "type": "Point", ... },
  "properties": { "text": 2112210742 }
}
```
